import{aF as q,aV as H,b4 as c,b5 as B,b6 as I,b7 as T,aI as r,aJ as u,aK as l,aQ as i,b1 as V,b8 as O,aO as g,a$ as h,aN as S,b3 as R,aL as x,aM as L,b9 as U,aW as D,aX as F,b0 as W,aR as j,ba as J,bb as K,aY as A,bc as Q,bd as E,be as X,bf as Y,aS as z}from"./index-Cdj59hPb.js";import{g as G,a as Z,b as ee}from"./notes-D0782-Js.js";const te={class:"doc-detail"},ae={key:0,class:"lock-mask"},oe={key:1},se={key:0,class:"doc-meta"},ne={class:"doc-time"},le={class:"doc-wordCount"},re=["onClick"],ue={class:"toc-toggle"},ce={key:0,class:"toc-list"},ie=["innerHTML"],de=q({__name:"index",setup(me){const k=J(),M=j(),$=H(),m=c("post"),a=c(null),f=c(null),v=c(!1),_=c("momo"),p=c(!0),b=c(""),C=B();function N(){b.value===_.value?p.value=!1:alert("ÂØÜÁ†ÅÈîôËØØ")}const P=n=>{$.setTag(n),M.push("/")};function w(n){const t=document.createElement("div");return t.innerHTML=n,t.querySelectorAll("h1,h2,h3,h4,h5,h6").forEach(e=>{e.id||(e.id=e.textContent?.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]/g,"").replace(/\-+/g,"-").replace(/^\-+|\-+$/g,"")??"")}),t.querySelectorAll("pre code").forEach(e=>{const s=e.parentElement;s&&!s.querySelector(".copy-btn")&&s.insertAdjacentHTML("beforeend",`<button class="copy-btn" data-code="${encodeURIComponent(e.textContent||"")}">Â§çÂà∂</button>`)}),t.innerHTML}let d=null;return I(()=>k.path,async n=>{if(n.startsWith("/notes/")){m.value="note";const e=n.replace(/^\/notes\//,"").split("/")[0],s=G();f.value=s.find(y=>y.id===e)||null,a.value=Z(n)||f.value?.files[0]||null}else m.value="post",a.value=await K(String(k.params.slug||""));a.value&&(a.value.html=w(a.value.html)),a.value?.meta?.password?(p.value=!0,_.value=a.value.meta.password):p.value=!1,a.value?.meta.title?document.title=`${a.value.meta.title} | ${A.siteName}`:document.title=`${A.siteName}`,await Q();const t=document.querySelector(".markdown-body");if(t&&(d&&t.removeEventListener("click",d),d=o=>{const e=o.target;if(e.classList.contains("copy-btn")){const s=e.getAttribute("data-code")||"";navigator.clipboard.writeText(decodeURIComponent(s)).then(()=>{e.textContent="‚úî Â∑≤Â§çÂà∂",setTimeout(()=>e.textContent="Â§çÂà∂",1e3)})}},t.addEventListener("click",d),document.querySelectorAll(".md-img").forEach(o=>{const e=o.dataset.src||"",s=o.dataset.alt||"";E(X,{src:e,alt:s}).mount(o)}),document.querySelectorAll(".md-card").forEach(o=>{const e=o.dataset.type,s=o.dataset.slug||"";e==="post"&&E(Y,{slug:s}).mount(o)}),a.value)){a.value.html=w(a.value.html);const o=ee(a.value.html);C.setOutline(o)}},{immediate:!0}),T(()=>{const n=document.querySelector(".markdown-body");n&&d&&n.removeEventListener("click",d),C.clearOutline()}),T(()=>{}),(n,t)=>{const o=W("router-link");return u(),r("div",te,[l("h1",null,i(a.value?.meta.title),1),p.value?(u(),r("div",ae,[t[3]||(t[3]=l("p",null,"üîí ËØ•ÊñáÁ´†Â∑≤Âä†ÂØÜÔºåËØ∑ËæìÂÖ•ÂØÜÁ†Å",-1)),V(l("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>b.value=e),type:"password",placeholder:"ËæìÂÖ•ÂØÜÁ†Å"},null,512),[[O,b.value]]),l("button",{onClick:N},"Ëß£ÈîÅ")])):(u(),r("div",oe,[m.value==="post"?(u(),r("div",se,[l("div",ne,"‚è∞ "+i(S(R)(a.value?.meta.date||0)),1),t[4]||(t[4]=h(" | ",-1)),l("div",le,"Â≠óÊï∞Ôºö"+i(a.value?.meta.wordCount)+" üëÅ‚Äçüó® ÈòÖËØªÔºö"+i(a.value?.meta.readTime)+" min",1),t[5]||(t[5]=h(" | ",-1)),(u(!0),r(x,null,L(a.value?.meta.tags||[],e=>(u(),r("div",{key:e,class:"doc-tag",onClick:s=>P(e)},i(e),9,re))),128))])):g("",!0),m.value==="note"?(u(),r("div",{key:1,class:"toc",onMouseenter:t[1]||(t[1]=e=>v.value=!0),onMouseleave:t[2]||(t[2]=e=>v.value=!1)},[l("button",ue,i(v.value?"üì• Áü•ËØÜÂ∫ìÁõÆÂΩï":`ÂΩìÂâç‰ΩçÁΩÆÔºö${S(U)(a.value?.path||"")}`),1),v.value?(u(),r("div",ce,[t[6]||(t[6]=l("div",{class:"toc-list-title"},"üì• Áü•ËØÜÂ∫ìÁõÆÂΩï",-1)),l("ul",null,[(u(!0),r(x,null,L(f.value?.files,e=>(u(),r("li",{key:e.path},[D(o,{to:e.path},{default:F(()=>[h(i(e.subPath||e.id),1)]),_:2},1032,["to"])]))),128))])])):g("",!0)],32)):g("",!0),t[7]||(t[7]=l("hr",{class:"hr-head"},null,-1)),l("article",{class:"markdown-body",innerHTML:a.value?.html},null,8,ie)]))])}}}),fe=z(de,[["__scopeId","data-v-aea03833"]]);export{fe as default};
