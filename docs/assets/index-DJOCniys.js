import{a as I,l as v,C as b,m as V,p as O,c as a,o as l,n as M,b as s,h as w,t as m,f as E,F as C,r as L,q as R,s as U,_ as H,u as D,x as z,y as j,e as A,j as F,z as G,g as S,k as W,A as J,w as K,i as Q,B as X,D as Y,E as Z,G as ee,H as B,M as te,I as oe}from"./index-7ZNq7-mY.js";import{g as se,a as ne,b as ae}from"./notes-BrXIGx9x.js";const le={key:0,class:"toc-content"},re={class:"toc-title"},ue=["href","onClick"],ce=I({__name:"index",props:{headings:{}},setup($){const y=$,h=v(""),p=v(b.OutlineShow??!1);function f(d){const c=document.getElementById(d);c&&c.scrollIntoView({behavior:"smooth",block:"start"})}function o(){let d="";for(const c of y.headings){const n=document.getElementById(c.slug);if(n)if(n.getBoundingClientRect().top<=100)d=c.slug;else break}h.value=d}return V(()=>window.addEventListener("scroll",o)),O(()=>window.removeEventListener("scroll",o)),(d,c)=>(l(),a("div",{class:M(["toc",{open:p.value}])},[s("button",{class:"toc-toggle",onClick:c[0]||(c[0]=n=>p.value=!p.value)},m(p.value?"‚úñ":"üß≠"),1),p.value?(l(),a("nav",le,[s("h3",re,m(E(b).OutlineTitle),1),s("ul",null,[(l(!0),a(C,null,L(d.headings,n=>(l(),a("li",{key:n.slug,class:M({active:n.slug===h.value}),style:R({paddingLeft:(n.level-1)*16+"px"})},[s("a",{href:"#"+n.slug,onClick:U(k=>f(n.slug),["prevent"])},m(n.title),9,ue)],6))),128))])])):w("",!0)],2))}}),ie=H(ce,[["__scopeId","data-v-1711ecb1"]]),de={class:"doc-detail"},ve={key:0,class:"lock-mask"},me={key:1},pe={key:0,class:"doc-meta"},fe={class:"doc-time"},ge={class:"doc-wordCount"},ye=["onClick"],he={class:"toc-toggle"},ke={key:0,class:"toc-list"},_e=["innerHTML"],we=I({__name:"index",setup($){const y=Y(),h=X(),p=D(),f=v("post"),o=v(null),d=v(null),c=v([]),n=v(!1),k=v("momo"),_=v(!0),T=v("");function q(){T.value===k.value?_.value=!1:alert("ÂØÜÁ†ÅÈîôËØØ")}const N=i=>{p.setTag(i),h.push("/")};function P(i){const t=document.createElement("div");return t.innerHTML=i,t.querySelectorAll("h1,h2,h3,h4,h5,h6").forEach(e=>{e.id||(e.id=e.textContent?.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]/g,"").replace(/\-+/g,"-").replace(/^\-+|\-+$/g,"")??"")}),t.querySelectorAll("pre code").forEach(e=>{const u=e.parentElement;u&&!u.querySelector(".copy-btn")&&u.insertAdjacentHTML("beforeend",`<button class="copy-btn" data-code="${encodeURIComponent(e.textContent||"")}">Â§çÂà∂</button>`)}),t.innerHTML}let g=null;return z(()=>y.path,async i=>{if(i.startsWith("/notes/")){f.value="note";const e=i.replace(/^\/notes\//,"").split("/")[0],u=se();d.value=u.find(x=>x.id===e)||null,o.value=ne(i)||d.value?.files[0]||null}else f.value="post",o.value=await Z(String(y.params.slug||""));o.value&&(o.value.html=P(o.value.html),c.value=ae(o.value.html)),o.value?.meta?.password?(_.value=!0,k.value=o.value.meta.password):_.value=!1,o.value?.meta.title?document.title=`${o.value.meta.title} | ${b.siteName}`:document.title=`${b.siteName}`,await ee();const t=document.querySelector(".markdown-body");t&&(g&&t.removeEventListener("click",g),g=r=>{const e=r.target;if(e.classList.contains("copy-btn")){const u=e.getAttribute("data-code")||"";navigator.clipboard.writeText(decodeURIComponent(u)).then(()=>{e.textContent="‚úî Â∑≤Â§çÂà∂",setTimeout(()=>e.textContent="Â§çÂà∂",1e3)})}},t.addEventListener("click",g),document.querySelectorAll(".md-img").forEach(r=>{const e=r.dataset.src||"",u=r.dataset.alt||"";B(te,{src:e,alt:u}).mount(r)}),document.querySelectorAll(".md-card").forEach(r=>{const e=r.dataset.type,u=r.dataset.slug||"";e==="post"&&B(oe,{slug:u}).mount(r)}))},{immediate:!0}),j(()=>{const i=document.querySelector(".markdown-body");i&&g&&i.removeEventListener("click",g)}),(i,t)=>{const r=Q("router-link");return l(),a(C,null,[s("div",de,[s("h1",null,m(o.value?.meta.title),1),_.value?(l(),a("div",ve,[t[3]||(t[3]=s("p",null,"üîí ËØ•ÊñáÁ´†Â∑≤Âä†ÂØÜÔºåËØ∑ËæìÂÖ•ÂØÜÁ†Å",-1)),F(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>T.value=e),type:"password",placeholder:"ËæìÂÖ•ÂØÜÁ†Å"},null,512),[[G,T.value]]),s("button",{onClick:q},"Ëß£ÈîÅ")])):(l(),a("div",me,[f.value==="post"?(l(),a("div",pe,[s("div",fe,"‚è∞ "+m(E(W)(o.value?.meta.date||0)),1),t[4]||(t[4]=S(" | ",-1)),s("div",ge,"Â≠óÊï∞Ôºö"+m(o.value?.meta.wordCount)+" üëÅ‚Äçüó® ÈòÖËØªÔºö"+m(o.value?.meta.readTime)+" min",1),t[5]||(t[5]=S(" | ",-1)),(l(!0),a(C,null,L(o.value?.meta.tags||[],e=>(l(),a("div",{key:e,class:"doc-tag",onClick:u=>N(e)},m(e),9,ye))),128))])):w("",!0),f.value==="note"?(l(),a("div",{key:1,class:"toc",onMouseenter:t[1]||(t[1]=e=>n.value=!0),onMouseleave:t[2]||(t[2]=e=>n.value=!1)},[s("button",he,m(n.value?"üì• Áü•ËØÜÂ∫ìÁõÆÂΩï":`ÂΩìÂâç‰ΩçÁΩÆÔºö${E(J)(o.value?.path||"")}`),1),n.value?(l(),a("div",ke,[t[6]||(t[6]=s("div",{class:"toc-list-title"},"üì• Áü•ËØÜÂ∫ìÁõÆÂΩï",-1)),s("ul",null,[(l(!0),a(C,null,L(d.value?.files,e=>(l(),a("li",{key:e.path},[A(r,{to:e.path},{default:K(()=>[S(m(e.subPath||e.id),1)]),_:2},1032,["to"])]))),128))])])):w("",!0)],32)):w("",!0),t[7]||(t[7]=s("hr",null,null,-1)),s("article",{class:"markdown-body",innerHTML:o.value?.html},null,8,_e)]))]),A(ie,{headings:c.value||[]},null,8,["headings"])],64)}}}),Te=H(we,[["__scopeId","data-v-9a37f649"]]);export{Te as default};
