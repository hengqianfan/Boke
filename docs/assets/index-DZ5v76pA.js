import{aF as H,b4 as u,aI as n,aJ as l,aK as o,aO as f,a_ as E,aN as y,b7 as x,aQ as i,aS as B,aV as R,aG as U,b8 as D,b9 as W,ba as I,b1 as z,bb as F,a$ as $,b3 as j,aL as N,aM as q,bc as G,aW as J,aX as K,b0 as Q,aR as X,bd as Y,be as Z,aY as P,bf as ee,bg as S,bh as te,bi as se}from"./index-Do_QJ2gL.js";import{g as oe,a as ae,b as ne}from"./notes-D0gyM9g9.js";const le={class:"md-link"},ce={key:0,class:"md-link-preview"},re={class:"header"},ie={class:"desc"},ue={key:1,class:"md-link-iframe"},de={class:"header"},me={class:"left"},pe=["src"],ve=H({__name:"index",props:{src:{},desc:{},icon:{}},setup(T){const b=T,p=u(!1);function g(){p.value=!0}function w(){p.value=!1}function d(){window.open(b.src,"_blank","noopener,noreferrer")}return(t,h)=>(l(),n("div",le,[p.value?(l(),n("div",ue,[o("div",de,[o("div",me,[t.icon?(l(),n("i",{key:0,class:E(y(x)(t.icon))},null,2)):f("",!0),o("span",null,i(t.desc),1)]),o("div",{class:"buttons"},[o("button",{onClick:d},"ÂéüÂßãÁΩëÂùÄ"),o("button",{onClick:w},"ÊäòÂè†ËßÜÂõæ")])]),o("iframe",{src:t.src,loading:"lazy",sandbox:"allow-scripts allow-same-origin allow-forms",allowfullscreen:""},null,8,pe)])):(l(),n("div",ce,[o("div",re,[o("div",ie,[t.icon?(l(),n("i",{key:0,class:E(y(x)(t.icon))},null,2)):f("",!0),o("span",null,i(t.desc),1)]),o("div",{class:"buttons"},[o("button",{onClick:d},"ÂéüÂßãÁΩëÂùÄ"),o("button",{onClick:g},"Êú¨Á´ôÈ¢ÑËßà")])])]))]))}}),fe=B(ve,[["__scopeId","data-v-ba318bb2"]]),be={class:"doc-detail"},he={key:0,class:"lock-mask"},ke={key:1},_e={key:0,class:"doc-meta"},ye={class:"doc-time"},ge={class:"doc-wordCount"},we=["onClick"],Ce={class:"toc-toggle"},$e={key:0,class:"toc-list"},Se=["innerHTML"],Te=H({__name:"index",setup(T){const b=Y(),p=X(),g=R(),w=U(),d=u("post"),t=u(null),h=u(null),k=u(!1),L=u("momo"),_=u(!0),C=u(""),A=D();function V(){C.value===L.value?_.value=!1:alert("ÂØÜÁ†ÅÈîôËØØ")}const O=r=>{g.setTag(r),p.push("/")};function M(r){const s=document.createElement("div");return s.innerHTML=r,s.querySelectorAll("h1,h2,h3,h4,h5,h6").forEach(e=>{e.id||(e.id=e.textContent?.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]/g,"").replace(/\-+/g,"-").replace(/^\-+|\-+$/g,"")??"")}),s.querySelectorAll("pre code").forEach(e=>{const c=e.parentElement;c&&!c.querySelector(".copy-btn")&&c.insertAdjacentHTML("beforeend",`<button class="copy-btn" data-code="${encodeURIComponent(e.textContent||"")}">Â§çÂà∂</button>`)}),s.innerHTML}let m=null;return W(()=>b.path,async r=>{if(w.setAsideShow(!0),r.startsWith("/notes/")){d.value="note";const e=r.replace(/^\/notes\//,"").split("/")[0],c=oe();h.value=c.find(v=>v.id===e)||null,t.value=ae(r)||h.value?.files[0]||null}else d.value="post",t.value=await Z(String(b.params.slug||""));t.value&&(t.value.html=M(t.value.html)),t.value?.meta?.password?(_.value=!0,L.value=t.value.meta.password):_.value=!1,t.value?.meta.title?document.title=`${t.value.meta.title} | ${P.siteName}`:document.title=`${P.siteName}`,await ee();const s=document.querySelector(".markdown-body");if(s&&(m&&s.removeEventListener("click",m),m=a=>{const e=a.target;if(e.classList.contains("copy-btn")){const c=e.getAttribute("data-code")||"";navigator.clipboard.writeText(decodeURIComponent(c)).then(()=>{e.textContent="‚úî Â∑≤Â§çÂà∂",setTimeout(()=>e.textContent="Â§çÂà∂",1e3)})}},s.addEventListener("click",m),document.querySelectorAll(".md-img").forEach(a=>{const e=a.dataset.src||"",c=a.dataset.alt||"";S(te,{src:e,alt:c}).mount(a)}),document.querySelectorAll(".md-link").forEach(a=>{const e=a.dataset.src||"",c=a.dataset.desc||"",v=a.dataset.icon||"";S(fe,{src:e,desc:c,icon:v}).mount(a)}),document.querySelectorAll(".md-card").forEach(a=>{const e=a.dataset.type,c=a.dataset.slug||"";(e==="post"||e==="note")&&S(se,{slug:c}).mount(a)}),t.value)){t.value.html=M(t.value.html);const a=ne(t.value.html);A.setOutline(a)}},{immediate:!0}),I(()=>{const r=document.querySelector(".markdown-body");r&&m&&r.removeEventListener("click",m),A.clearOutline()}),I(()=>{}),(r,s)=>{const a=Q("router-link");return l(),n("div",be,[o("h1",null,i(t.value?.meta.title),1),_.value?(l(),n("div",he,[s[3]||(s[3]=o("p",null,"üîí ËØ•ÊñáÁ´†Â∑≤Âä†ÂØÜÔºåËØ∑ËæìÂÖ•ÂØÜÁ†Å",-1)),z(o("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>C.value=e),type:"password",placeholder:"ËæìÂÖ•ÂØÜÁ†Å"},null,512),[[F,C.value]]),o("button",{onClick:V},"Ëß£ÈîÅ")])):(l(),n("div",ke,[d.value==="post"?(l(),n("div",_e,[o("div",ye,"‚è∞ "+i(y(j)(t.value?.meta.date||0)),1),s[4]||(s[4]=$(" | ",-1)),o("div",ge,"Â≠óÊï∞Ôºö"+i(t.value?.meta.wordCount)+" üëÅ‚Äçüó® ÈòÖËØªÔºö"+i(t.value?.meta.readTime)+" min",1),s[5]||(s[5]=$(" | ",-1)),(l(!0),n(N,null,q(t.value?.meta.tags||[],e=>(l(),n("div",{key:e,class:"doc-tag",onClick:c=>O(e)},i(e),9,we))),128))])):f("",!0),d.value==="note"?(l(),n("div",{key:1,class:"toc",onMouseenter:s[1]||(s[1]=e=>k.value=!0),onMouseleave:s[2]||(s[2]=e=>k.value=!1)},[o("button",Ce,i(k.value?"üì• Áü•ËØÜÂ∫ìÁõÆÂΩï":`ÂΩìÂâç‰ΩçÁΩÆÔºö${y(G)(t.value?.path||"")}`),1),k.value?(l(),n("div",$e,[s[6]||(s[6]=o("div",{class:"toc-list-title"},"üì• Áü•ËØÜÂ∫ìÁõÆÂΩï",-1)),o("ul",null,[(l(!0),n(N,null,q(h.value?.files,e=>(l(),n("li",{key:e.path},[J(a,{to:e.path},{default:K(()=>[$(i(e.subPath||e.id),1)]),_:2},1032,["to"])]))),128))])])):f("",!0)],32)):f("",!0),s[7]||(s[7]=o("hr",{class:"hr-head"},null,-1)),o("article",{class:"markdown-body",innerHTML:t.value?.html},null,8,Se)]))])}}}),Ee=B(Te,[["__scopeId","data-v-9acffd95"]]);export{Ee as default};
